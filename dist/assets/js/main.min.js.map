{"version":3,"file":"main.min.js","names":["getDatabase","ref","set","child","get","Webcam","QrScanner","form","document","querySelector","stepProgress","querySelectorAll","formStep","snapShot","savePhoto","retakePhoto","backBtnInformation","backBtnIdentity","submitBtn","openScan","closeScan","closeResult","fileSelector","webcamElement","canvasElement","webcam","active","paths","index","register","download","recognition","result","idle","idleTime","timer","setInterval","clearInterval","window","location","reload","addEventListener","generateID","Date","getFullYear","Math","random","toString","slice","generateQRCode","QRCode","Storage","getRegisteredUser","userID","innerHTML","firstName","toUpperCase","lastName","displayErrMsg","feedback","input","div","createElement","classList","add","focus","nextElementSibling","after","resetErrMsg","forEach","remove","el","nextStep","length","updateProgress","prevStep","step","i","hidden","openWebcam","start","then","console","log","catch","err","error","Toastify","text","duration","close","gravity","position","stopOnFocus","backgroundColor","showToast","setTimeout","offWebcam","stop","scanQr","video","qrScanner","destroy","ProfileImage","readUser","data","highlightScanRegion","highlightCodeOutline","models","Promise","all","faceapi","nets","faceLandmark68Net","loadFromUri","faceRecognitionNet","ssdMobilenetv1","async","labeledFaceDescriptors","loadImage","faceMatcher","FaceMatcher","ctr","style","setProperty","snap","detection","detectSingleFace","withFaceLandmarks","withFaceDescriptor","displaySize","width","height","resizedDetection","resizeResults","output","findBestMatch","descriptor","label","image","getResult","setResult","href","removeResult","img","fetchImage","detections","descriptions","LabeledFaceDescriptors","User","constructor","email","this","super","addUser","db","reference","static","userRef","snapshot","exists","val","display","user","localStorage","setItem","JSON","stringify","parse","getItem","removeItem","e","preventDefault","value","setRegisteredUser","reset","picture","userInfo","src","file","files","scanImage","returnDetailedScanResult","pathname","checkRegisteredUser","html2canvas","canvas","uri","toDataURL","filename","link","body","appendChild","click","removeChild","open","checkResult"],"sources":["main.js"],"mappings":"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"}